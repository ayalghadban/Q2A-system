/*
	Gold Developer (c) Hélio Chun
	https://heliochun.github.io/muffin

	File:           js/muffin.js
	Version:        Muffin 2.0
	Description:    JavaScript helpers for Muffin theme
*/

// Translation words
reputationWord = 'points';
document.addEventListener("DOMContentLoaded",function(t){var e=document.getElementById("menu-trigger"),a=document.querySelector(".qa-nav-main"),n=document.getElementById("dark-pane"),i=document.querySelector(".qa-search"),r=document.getElementById("mobile-search-button"),o=document.querySelector(".qa-main-wrapper"),l=document.querySelectorAll(".qa-main, .qa-sidepanel, .qa-footer-bottom-group");e.addEventListener("click",function(){if(a.classList.toggle("menu-slide"),n.classList.toggle("hidden"),window.innerWidth<=1250)document.body.classList.toggle("no-scroll");else if(window.innerWidth>=1250)for(var t=0;t<l.length;t++)bodyFooter=l[t],bodyFooter.classList.toggle("right-transform")}),n.addEventListener("click",function(){a.classList.remove("menu-slide"),n.classList.add("hidden"),document.body.classList.remove("no-scroll"),i.classList.remove("hidden")}),r.addEventListener("click",function(){i.classList.toggle("hidden"),n.classList.remove("hidden"),i.querySelector("input.qa-search-field").focus(),document.body.classList.add("no-scroll")}),null!=o.querySelector(".qa-nav-sub")&&o.classList.add("top-spacer"),null!=o.querySelector(".qa-part-form-profile")&&(!function(){var t=o.querySelector("h1").textContent.replace(/\s+/g," "),e=o.querySelector(".qa-main form").outerHTML,a=o.querySelector("#favoriting"),n=document.getElementById("ui-trigger"),i=o.querySelector(".qa-avatar-image");if(o.querySelector("#duration").textContent.replace(/\s+/g," "),i=void 0!==i&&null!=i?o.querySelector(".qa-avatar-image").src:"",void 0!==(r=document.querySelector(".qa-nav-sub-account a.qa-nav-sub-link"))&&null!=r)var r=r.href;else r="";if(void 0!==n&&null!=n)var l='<a id="cape-profile-edit" href="'+r+'"><button class="qa-form-wide-button qa-form-wide-button-account paper-button">Edit my Profile</button></div>';else l="";var s=document.getElementById("hmb-Gold"),d=document.getElementById("hmb-Silver"),c=document.getElementById("hmb-Bronze"),u=document.querySelector("#points .qa-uf-user-points").innerHTML;u='<div class="profilePoints">'+u+" "+reputationWord+"</span></div>";var p='<div class="userBadges-wrapper">'+(s=void 0!==s&&null!=s?'\t\t\t<div class="pbadge-section" title="'+(s=s.innerHTML.replace(/'/g,"").replace(/\(|\)/g,""))+' Gold">\t\t\t\t<span class="badge-pointer badge-gold-medal">●</span>\t\t\t\t<span class="badge-pointer badge-gold-count"> '+s+"</span>\t\t\t</div>":"")+(d=void 0!==d&&null!=d?'\t\t\t<div class="pbadge-section" title="'+(d=d.innerHTML.replace(/'/g,"").replace(/\(|\)/g,""))+' Silver">\t\t\t\t<span class="badge-pointer badge-silver-medal">●</span>\t\t\t\t<span class="badge-pointer badge-silver-count"> '+d+"</span>\t\t\t</div>":"")+(c=void 0!==c&&null!=c?'\t\t\t<div class="pbadge-section" title="'+(c=c.innerHTML.replace(/'/g,"").replace(/\(|\)/g,""))+' Bronze">\t\t\t\t<span class="badge-pointer badge-bronze-medal">●</span>\t\t\t\t<span class="badge-pointer badge-bronze-count"> '+c+"</span>\t\t\t</div>":"")+"</div>",m=document.createElement("div");void 0!==a&&null!=a?(o.querySelector(".qa-main form").outerHTML="",m.innerHTML='\t\t\t<div class="user-cape">\t\t\t\t<div class="user-p-image">\t\t\t\t\t<img src="'+i+'" width="150" height="150" class="qa-adaptive-image" data-adaptive-background>\t\t\t\t</div>\t\t\t\t<div class="user-p-text">\t\t\t\t\t<div class="user-p-name-fav">\t\t\t\t\t\t'+e+'\t\t\t\t\t</div>\t\t\t\t\t<div class="user-p-since">'+u+p+"</div>\t\t\t\t</div>\t\t\t</div>"):m.innerHTML='\t\t\t<div class="user-cape">\t\t\t\t<div class="user-p-image">\t\t\t\t\t<img src="'+i+'" width="150" height="150" class="qa-adaptive-image" data-adaptive-background>\t\t\t\t</div>\t\t\t\t<div class="user-p-text">\t\t\t\t\t<div class="user-p-name-fav">\t\t\t\t\t\t'+t+'\t\t\t\t\t</div>\t\t\t\t\t<div class="user-p-since">'+u+p+"</div>\t\t\t\t\t"+l+"\t\t\t\t</div>\t\t\t</div>",o.querySelector(".qa-main").classList.add("viewing-profile"),m.className="user-cape-container",o.parentNode.insertBefore(m,o);var v=document.querySelector(".user-cape-container .user-p-name-fav");v.innerHTML=v.innerHTML.replace("User ","")}(),o.classList.add("profile-top-spacer"));var s=document.querySelector(".user-cape-container");void 0!==s&&null!=s&&e.addEventListener("click",function(){s.classList.toggle("right-transform")});for(var d=document.querySelectorAll(".qa-nav-main-item, .qa-nav-main-item-opp, .qa-form-tall-button, .qa-form-wide-button, .qa-tag-link"),c=0;c<d.length;c++)qaRipple=d[c],qaRipple.classList.add("paper-button");if("undefined"!=typeof CKEDITOR&&null!=CKEDITOR){var u=document.querySelector(".qa-template-question");(p=document.createElement("div")).setAttribute("id","muffin-prev");var p,m=document.querySelectorAll("textarea.qa-form-tall-text");for(c=0;c<m.length;c++)tali=m[c],tali.parentNode.appendChild(p),console.log("ready");if(void 0!==u&&null!=u)(p=document.createElement("div")).setAttribute("id","muffin-prev"),document.querySelector("#anew textarea.qa-form-tall-text").parentNode.appendChild(p),CKEDITOR.on("instanceCreated",function(t){t.editor.on("change",function(){document.getElementById("muffin-prev").innerHTML=t.editor.getData()})});CKEDITOR.on("instanceCreated",function(t){t.editor.on("change",function(){document.getElementById("muffin-prev").innerHTML=t.editor.getData()})})}var v=document.querySelectorAll("input.qa-form-tall-text");for(c=0;c<v.length;c++)iqft=v[c],iqft.value<1&&(iqft.parentNode.parentNode.previousElementSibling.classList.remove("input-focused"),Object.assign(iqft.parentNode.parentNode.previousElementSibling.querySelector(".qa-form-tall-label").style,{transform:"translateY(90%)",color:"#9E9E9E",pointerEvents:"none"})),iqft.addEventListener("focus",function(){this.parentNode.parentNode.previousElementSibling.classList.add("input-focused"),Object.assign(this.parentNode.parentNode.previousElementSibling.querySelector(".qa-form-tall-label").style,{transform:"translateY(0)",color:"inherit",pointerEvents:"auto"})}),iqft.addEventListener("blur",function(){this.parentNode.parentNode.previousElementSibling.classList.remove("input-focused"),this.value<1&&Object.assign(this.parentNode.parentNode.previousElementSibling.querySelector(".qa-form-tall-label").style,{transform:"translateY(90%)",color:"#9E9E9E",pointerEvents:"none"})});$(".qa-activity-count-data").each(function(){var t=$(this).text();z=t<=20?99:0,$(this).prop("Counter",z).animate({Counter:t.replace(/,/g,"")},{duration:1e3,easing:"swing",step:function(t){$(this).text(Math.ceil(t))},complete:function(){$(this).text(t)}})})}),$(document).ready(function(){$(".qa-nav-main .qa-nav-main-list").find(".qa-nav-main-admin").prependTo(".qa-nav-main .qa-nav-main-list"),$(".qa-nav-main .qa-nav-main-list").find(".qa-nav-main-ask").prependTo(".qa-nav-main .qa-nav-main-list")});


